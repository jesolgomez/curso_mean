<!DOCTYPE html>
<html lang="es">

<head>
	<meta charset="utf-8">
    <title>FormularioCV</title>
</head>

<body>
    <section>
        <form name="formExp" id="formExp" method="get">
			FORMULARIO CURRICULUM<br/>
            Empresa: <input type="text" name="empresa" id="empresa"/><br/>
            Cargo: <input type="text" name="cargo" id="cargo"/><br/>
			Fecha inicio: <input type="month" name="fechaIni" id="fechaIni"/><br/>
			Fecha fin: <input type="month" name="fechaFin" id="fechaFin"/><br/>
			Localizaci칩n: <input type="text" name="localizacion" id="localizacion"/>
			<input type="button" value="A침adir" onclick="a침adir()"/><br/>
			JSON<br/>
			<input type="textarea" name="experiencia" id="experiencia"/><br/>
			EXPERIENCIA<input type="button" value="Cargar y mostrar" 
						onclick="cargarExp()"/><br/>
        </form>
		<div id="expTexto"></div>
		
    </section>
</body>
<script>
	var expArr = []
	var frm = document.getElementById("formExp");
	function a침adir(){
		var sAux= '{ "experiencia" : [';
		for (i=0;i<4;i++)
		{
			sAux += '"' + frm.elements[i].name + '"' + 
			" : " + '"' + frm.elements[i].value  + '"' + ", ";
		}
		sAux += '"' + frm.elements[4].name + '"' + 
				" : " + '"' + frm.elements[4].value + '"' + ']}';
		alert(sAux);
		//var json = JSON.parse(sAux);
		var exp = document.getElementById("experiencia");
		exp.value = sAux;
		expArr.push(sAux);
		
		

		
		
	}	
	function cargarExp(){
	
		var text = '{ "employees" : [' + 
		'{ "firstName":"John" , "lastName":"Doe" },' +
		'{ "firstName":"Anna" , "lastName":"Smith" },' +
		'{ "firstName":"Peter" , "lastName":"Jones" } ]}';
		var json = json.parse(text);
		
	
		document.getElementById("expTexto").innerHTML = json;
	}


</script>
</html>